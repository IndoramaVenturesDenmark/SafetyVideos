<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Indorama Ventures - Safety</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="icon" type="image/png" href="assets/Indorama_800.jpg">
</head>
<body>

<header class="site-header">
  <div class="navbar-brand">
    <img src="assets/Indorama_800.jpg" alt="Indorama Ventures Logo">
  </div>
</header>

<div class="sectionBlockLayout">
  <div class="container text-center">
    <h1 class="sectionHeading">Vælg sprog / Choose language</h1>
  </div>
</div>

<div class="sectionBlockLayout buttons">
  <div class="container text-center">
    <div class="d-flex justify-content-center gap-3 flex-wrap">
      <a id="buttonDa" class="btn button1 languageBtn">Dansk</a>
      <a id="buttonEn" class="btn button1 languageBtn">English</a>
    </div>
  </div>
</div>

<div id="identitySection" class="sectionBlockLayout buttons" style="display: none;">
  <div class="sectionBlockLayout">
    <div class="container text-center">
      <h1 id="Iam" class="sectionHeading">Jeg er / I am</h1>
    </div>
  </div>

  <div class="sectionBlockLayout buttons">
    <div class="container text-center">
      <div class="d-flex justify-content-center gap-3 flex-wrap">
        <a id="buttonContractor" class="btn button1 identityBtn">Håndværker</a>
        <a id="buttonGuest" class="btn button1 identityBtn">Gæst</a>
      </div>
    </div>
  </div>
</div>

<div id="player" class="sectionBlockLayout text-center" style="display: none;">
  <div class="container" style="display: flex; justify-content: center;">
    <div style="width: 360px; height: 640px;">
      <iframe id="ytplayer"
        style="width: 100%; height: 100%;" src="https://www.youtube.com/embed/qHEovQu9b6Y?enablejsapi=1"
        title="YouTube video player" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

<script>
  let Lang = "";

  function changeLabels(lang) {
    let iam = "";
    let contractor = "";
    let guest = "";
    switch (lang) {
      case "da":
        iam = "Jeg er...";
        contractor = "Håndværker";
        guest = "Gæst";
        break;
      case "en":
        iam = "I am a...";
        contractor = "Contractor";
        guest = "Guest";
        break;
    }
    document.getElementById("Iam").innerText = iam;
    document.getElementById("buttonGuest").innerText = guest;
    document.getElementById("buttonContractor").innerText = contractor;
    document.getElementById("identitySection").style.display = "block";
    Lang = lang;
    document.getElementById("player").style.display = "none";
  }

  function initplayer(video) {
    let videoId = "";
    if (video === "contractor") {
      videoId = Lang === "da" ? "qHEovQu9b6Y" : "nExJZroJ1W4";
    } else if (video === "guest") {
      videoId = Lang === "da" ? "Ao2n2XC_CDA" : "MxYuUv2qi10";
    }

    const playerContainer = document.getElementById("player");
    playerContainer.style.display = "block";
    playerContainer.scrollIntoView({ behavior: "smooth", block: "start" });

    if (ytPlayer && ytPlayer.loadVideoById) {
      ytPlayer.loadVideoById(videoId);
    }
  }

  document.getElementById("buttonDa").addEventListener("click", function(e) {
    e.preventDefault();
    changeLabels("da");
  });

  document.getElementById("buttonEn").addEventListener("click", function(e) {
    e.preventDefault();
    changeLabels("en");
  });

  document.getElementById("buttonContractor").addEventListener("click", function(e) {
    e.preventDefault();
    initplayer("contractor");
  });

  document.getElementById("buttonGuest").addEventListener("click", function(e) {
    e.preventDefault();
    initplayer("guest");
  });

  document.querySelectorAll('.languageBtn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.languageBtn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
    });
  });

  document.querySelectorAll('.identityBtn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.identityBtn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
    });
  });

  var ytPlayer;
  function onYouTubeIframeAPIReady() {
    ytPlayer = new YT.Player('ytplayer', {
      height: '640',
      width: '360',
      playerVars: { 'enablejsapi': 1 },
      events: {
        'onReady': function() {
          console.log("Player ready!");
        }
      }
    });
  }

  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);
</script>

</body>
</html>
